
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Packaging and distributing projects &#8212; Python Packaging User Guide</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/pypa.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/overrides.css" />
    
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/tabs.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="next" title="Including files in source distributions with MANIFEST.in" href="using-manifest-in.html" />
    <link rel="prev" title="Hosting your own simple repository" href="hosting-your-own-index.html" /><link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 
  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://pypa.io" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form id="searchbox" role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="快速搜索"/>
            <input type="submit" value="转向"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
<h3><a href="../index.html">目录</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Python 包装的概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">教程</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installing-using-pip-and-virtual-environments.html">Installing packages using pip and virtual environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-stand-alone-command-line-tools.html">安装独立命令行工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-using-linux-tools.html">用 Linux 软件包管理器安装 pip/setuptools/wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-scientific-packages.html">Installing scientific packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-version-installs.html">多版本安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="index-mirrors-and-caches.html">Package index mirrors and caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="hosting-your-own-index.html">Hosting your own simple repository</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Packaging and distributing projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-manifest-in.html">Including files in source distributions with <code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="single-sourcing-package-version.html">Single-sourcing the package version</a></li>
<li class="toctree-l2"><a class="reference internal" href="supporting-multiple-python-versions.html">支持多个 Python 版本</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropping-older-python-versions.html">放弃对旧版 Python 的支持</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging-binary-extensions.html">Packaging binary extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="supporting-windows-using-appveyor.html">Supporting Windows using Appveyor</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging-namespace-packages.html">Packaging namespace packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating-and-discovering-plugins.html">创建和发现插件</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrating-to-pypi-org.html">迁移到 PyPI.org</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-testpypi.html">使用 TestPyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="making-a-pypi-friendly-readme.html">Making a PyPI-friendly README</a></li>
<li class="toctree-l2"><a class="reference internal" href="publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">Publishing package distribution releases using GitHub Actions CI/CD workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="tool-recommendations.html">Tool recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyzing-pypi-package-downloads.html">分析 PyPI 软件包的下载情况</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../discussions/index.html">讨论</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specifications/index.html">PyPA specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">项目摘要</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">如何获得支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">为本指南做出贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新闻</a></li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="hosting-your-own-index.html"
                        title="上一章">Hosting your own simple repository</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="using-manifest-in.html"
                        title="下一章">Including files in source distributions with <code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code></a></p>
        </nav>
    </div>
</div>
  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="using-manifest-in.html" title="Including files in source distributions with MANIFEST.in"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="hosting-your-own-index.html" title="Hosting your own simple repository"
             accesskey="P">上一页</a> |</li>
          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://pypa.io">PyPA</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
              <a href="../index.html">Python Packaging User Guide</a> &#187;
              
          </li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">指南</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Packaging and distributing projects</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="packaging-and-distributing-projects">
<span id="distributing-packages"></span><h1>Packaging and distributing projects<a class="headerlink" href="#packaging-and-distributing-projects" title="永久链接至标题">¶</a></h1>
<p>This section covers some additional details on configuring, packaging and
distributing Python projects with <code class="docutils literal notranslate"><span class="pre">setuptools</span></code> that aren’t covered by the
introductory tutorial in <a class="reference internal" href="../tutorials/packaging-projects.html"><span class="doc">包装 Python 项目</span></a>.  It still assumes
that you are already familiar with the contents of the
<a class="reference internal" href="../tutorials/installing-packages.html"><span class="doc">安装包</span></a> page.</p>
<p>The section does <em>not</em> aim to cover best practices for Python project
development as a whole.  For example, it does not provide guidance or tool
recommendations for version control, documentation, or testing.</p>
<p>For more reference material, see <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/index.html" title="(在 setuptools v60.5.4)"><span class="xref std std-doc">Building and Distributing
Packages</span></a> in the <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a> docs, but note
that some advisory content there may be outdated. In the event of
conflicts, prefer the advice in the Python Packaging User Guide.</p>
<div class="contents local topic" id="contents">
<p class="topic-title">导航</p>
<ul class="simple">
<li><p><a class="reference internal" href="#requirements-for-packaging-and-distributing" id="id27">Requirements for packaging and distributing</a></p></li>
<li><p><a class="reference internal" href="#configuring-your-project" id="id28">配置您的项目</a></p>
<ul>
<li><p><a class="reference internal" href="#initial-files" id="id29">初始文件</a></p>
<ul>
<li><p><a class="reference internal" href="#setup-py" id="id30">setup.py</a></p></li>
<li><p><a class="reference internal" href="#setup-cfg" id="id31">setup.cfg</a></p></li>
<li><p><a class="reference internal" href="#readme-rst-readme-md" id="id32">README.rst / README.md</a></p></li>
<li><p><a class="reference internal" href="#manifest-in" id="id33">MANIFEST.in</a></p></li>
<li><p><a class="reference internal" href="#license-txt" id="id34">LICENSE.txt</a></p></li>
<li><p><a class="reference internal" href="#your-package" id="id35">&lt;your package&gt;</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#setup-args" id="id36">setup() 参数</a></p>
<ul>
<li><p><a class="reference internal" href="#name" id="id37"><code class="docutils literal notranslate"><span class="pre">name</span></code></a></p></li>
<li><p><a class="reference internal" href="#version" id="id38"><code class="docutils literal notranslate"><span class="pre">version</span></code></a></p></li>
<li><p><a class="reference internal" href="#description" id="id39"><code class="docutils literal notranslate"><span class="pre">description</span></code></a></p></li>
<li><p><a class="reference internal" href="#url" id="id40"><code class="docutils literal notranslate"><span class="pre">url</span></code></a></p></li>
<li><p><a class="reference internal" href="#author" id="id41"><code class="docutils literal notranslate"><span class="pre">author</span></code></a></p></li>
<li><p><a class="reference internal" href="#license" id="id42"><code class="docutils literal notranslate"><span class="pre">license</span></code></a></p></li>
<li><p><a class="reference internal" href="#classifiers" id="id43"><code class="docutils literal notranslate"><span class="pre">classifiers</span></code></a></p></li>
<li><p><a class="reference internal" href="#keywords" id="id44"><code class="docutils literal notranslate"><span class="pre">keywords</span></code></a></p></li>
<li><p><a class="reference internal" href="#project-urls" id="id45"><code class="docutils literal notranslate"><span class="pre">project_urls</span></code></a></p></li>
<li><p><a class="reference internal" href="#packages" id="id46"><code class="docutils literal notranslate"><span class="pre">packages</span></code></a></p></li>
<li><p><a class="reference internal" href="#py-modules" id="id47"><code class="docutils literal notranslate"><span class="pre">py_modules</span></code></a></p></li>
<li><p><a class="reference internal" href="#install-requires" id="id48"><code class="docutils literal notranslate"><span class="pre">install_requires</span></code></a></p></li>
<li><p><a class="reference internal" href="#python-requires" id="id49"><code class="docutils literal notranslate"><span class="pre">python_requires</span></code></a></p></li>
<li><p><a class="reference internal" href="#package-data" id="id50"><code class="docutils literal notranslate"><span class="pre">package_data</span></code></a></p></li>
<li><p><a class="reference internal" href="#data-files" id="id51"><code class="docutils literal notranslate"><span class="pre">data_files</span></code></a></p></li>
<li><p><a class="reference internal" href="#scripts" id="id52"><code class="docutils literal notranslate"><span class="pre">scripts</span></code></a></p></li>
<li><p><a class="reference internal" href="#entry-points" id="id53"><code class="docutils literal notranslate"><span class="pre">entry_points</span></code></a></p>
<ul>
<li><p><a class="reference internal" href="#console-scripts" id="id54"><code class="docutils literal notranslate"><span class="pre">console_scripts</span></code></a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#choosing-a-versioning-scheme" id="id55">Choosing a versioning scheme</a></p>
<ul>
<li><p><a class="reference internal" href="#standards-compliance-for-interoperability" id="id56">Standards compliance for interoperability</a></p></li>
<li><p><a class="reference internal" href="#scheme-choices" id="id57">Scheme choices</a></p>
<ul>
<li><p><a class="reference internal" href="#semantic-versioning-preferred" id="id58">Semantic versioning (preferred)</a></p></li>
<li><p><a class="reference internal" href="#date-based-versioning" id="id59">Date based versioning</a></p></li>
<li><p><a class="reference internal" href="#serial-versioning" id="id60">Serial versioning</a></p></li>
<li><p><a class="reference internal" href="#hybrid-schemes" id="id61">Hybrid schemes</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#pre-release-versioning" id="id62">Pre-release versioning</a></p></li>
<li><p><a class="reference internal" href="#local-version-identifiers" id="id63">本地版本标识符</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#working-in-development-mode" id="id64">在 「开发模式」(development mode) 下工作</a></p></li>
<li><p><a class="reference internal" href="#packaging-your-project" id="id65">包装你的项目</a></p>
<ul>
<li><p><a class="reference internal" href="#source-distributions" id="id66">Source distributions</a></p></li>
<li><p><a class="reference internal" href="#wheels" id="id67">Wheels</a></p>
<ul>
<li><p><a class="reference internal" href="#pure-python-wheels" id="id68">Pure Python Wheels</a></p></li>
<li><p><a class="reference internal" href="#platform-wheels" id="id69">Platform Wheels</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#uploading-your-project-to-pypi" id="id70">Uploading your Project to PyPI</a></p>
<ul>
<li><p><a class="reference internal" href="#create-an-account" id="id71">创建一个账户</a></p></li>
<li><p><a class="reference internal" href="#upload-your-distributions" id="id72">上传您的发行版</a></p></li>
</ul>
</li>
</ul>
</div>
<section id="requirements-for-packaging-and-distributing">
<h2><a class="toc-backref" href="#id27">Requirements for packaging and distributing</a><a class="headerlink" href="#requirements-for-packaging-and-distributing" title="永久链接至标题">¶</a></h2>
<ol class="arabic">
<li><p>First, make sure you have already fulfilled the <a class="reference internal" href="../tutorials/installing-packages.html#installing-requirements"><span class="std std-ref">requirements for
installing packages</span></a>.</p></li>
<li><p>安装 “twine” <a class="footnote-reference brackets" href="#id25" id="id1">1</a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--0-input--1" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install twine
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--0-input--2" name="tab-set--0" type="radio"><label class="tab-label" for="tab-set--0-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m pip install twine
</pre></div>
</div>
</div>
</div>
</li>
</ol>
<blockquote>
<div><p>You’ll need this to upload your project <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">distributions</span></a> to <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> (see <a class="reference internal" href="#uploading-your-project-to-pypi"><span class="std std-ref">below</span></a>).</p>
</div></blockquote>
</section>
<section id="configuring-your-project">
<h2><a class="toc-backref" href="#id28">配置您的项目</a><a class="headerlink" href="#configuring-your-project" title="永久链接至标题">¶</a></h2>
<section id="initial-files">
<h3><a class="toc-backref" href="#id29">初始文件</a><a class="headerlink" href="#initial-files" title="永久链接至标题">¶</a></h3>
<section id="setup-py">
<h4><a class="toc-backref" href="#id30">setup.py</a><a class="headerlink" href="#setup-py" title="永久链接至标题">¶</a></h4>
<p>The most important file is <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> which exists at the root of your
project directory. For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/setup.py">setup.py</a> in the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
<p><code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> 有主要有两个功能：</p>
<ol class="arabic simple">
<li><p>It’s the file where various aspects of your project are configured. The
primary feature of <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> is that it contains a global <code class="docutils literal notranslate"><span class="pre">setup()</span></code>
function.  The keyword arguments to this function are how specific details
of your project are defined.  The most relevant arguments are explained in
<a class="reference internal" href="#setup-args"><span class="std std-ref">the section below</span></a>.</p></li>
<li><p>It’s the command line interface for running various commands that
relate to packaging tasks. To get a listing of available commands, run
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">--help-commands</span></code>.</p></li>
</ol>
</section>
<section id="setup-cfg">
<h4><a class="toc-backref" href="#id31">setup.cfg</a><a class="headerlink" href="#setup-cfg" title="永久链接至标题">¶</a></h4>
<p><code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code> is an ini file that contains option defaults for
<code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> commands.  For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/setup.cfg">setup.cfg</a> in the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
</section>
<section id="readme-rst-readme-md">
<h4><a class="toc-backref" href="#id32">README.rst / README.md</a><a class="headerlink" href="#readme-rst-readme-md" title="永久链接至标题">¶</a></h4>
<p>All projects should contain a readme file that covers the goal of the project.
The most common format is <a class="reference external" href="https://docutils.sourceforge.io/rst.html">reStructuredText</a> with an “rst” extension, although
this is not a requirement; multiple variants of <a class="reference external" href="https://daringfireball.net/projects/markdown/">Markdown</a> are supported as well (look
at <code class="docutils literal notranslate"><span class="pre">setup()</span></code>’s <a class="reference internal" href="#description"><span class="std std-ref">long_description_content_type</span></a> argument).</p>
<p>For an example, see <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/README.md">README.md</a> from the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Projects using <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a> 0.6.27+ have standard readme files
(<code class="file docutils literal notranslate"><span class="pre">README.rst</span></code>, <code class="file docutils literal notranslate"><span class="pre">README.txt</span></code>, or <code class="file docutils literal notranslate"><span class="pre">README</span></code>) included in
source distributions by default. The built-in <a class="reference internal" href="../key_projects.html#distutils"><span class="std std-ref">distutils</span></a> library adopts
this behavior beginning in Python 3.7. Additionally, <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a>
36.4.0+ will include a <code class="file docutils literal notranslate"><span class="pre">README.md</span></code> if found. If you are using
setuptools, you don’t need to list your readme file in <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code>.
Otherwise, include it to be explicit.</p>
</div>
</section>
<section id="manifest-in">
<h4><a class="toc-backref" href="#id33">MANIFEST.in</a><a class="headerlink" href="#manifest-in" title="永久链接至标题">¶</a></h4>
<p>A <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> is needed when you need to package additional files that
are not automatically included in a source distribution.  For details on
writing a <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> file, including a list of what’s included by
default, see “<a class="reference internal" href="using-manifest-in.html#using-manifest-in"><span class="std std-ref">Including files in source distributions with MANIFEST.in</span></a>”.</p>
<p>However, you may not have to use a <code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code>. For an example, the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a> has removed its manifest
file, since all the necessary files have been included by <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a> 43.0.0
and newer.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p><code class="file docutils literal notranslate"><span class="pre">MANIFEST.in</span></code> does not affect binary distributions such as wheels.</p>
</div>
</section>
<section id="license-txt">
<h4><a class="toc-backref" href="#id34">LICENSE.txt</a><a class="headerlink" href="#license-txt" title="永久链接至标题">¶</a></h4>
<p>每个软件包都应该包括一个详细说明发行条款的许可证文件。在许多司法管辖区，没有明确许可证的软件包不能被版权持有人以外的任何人合法使用或分发。如果您不确定选择哪种许可证，你可以使用诸如 <a class="reference external" href="https://choosealicense.com/">GitHub 的选择许可证</a> 等资源，或者咨询律师。</p>
<p>For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/LICENSE.txt">LICENSE.txt</a> from the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA
sample project</a>.</p>
</section>
<section id="your-package">
<h4><a class="toc-backref" href="#id35">&lt;your package&gt;</a><a class="headerlink" href="#your-package" title="永久链接至标题">¶</a></h4>
<p>Although it’s not required, the most common practice is to include your
Python modules and packages under a single top-level package that has the same
<a class="reference internal" href="#setup-name"><span class="std std-ref">name</span></a> as your project, or something very close.</p>
<p>For an example, see the <a class="reference external" href="https://github.com/pypa/sampleproject/tree/main/src/sample">sample</a> package that’s
included in the <a class="reference external" href="https://github.com/pypa/sampleproject">PyPA sample project</a>.</p>
</section>
</section>
<section id="setup-args">
<span id="id10"></span><h3><a class="toc-backref" href="#id36">setup() 参数</a><a class="headerlink" href="#setup-args" title="永久链接至标题">¶</a></h3>
<p>As mentioned above, the primary feature of <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> is that it contains
a global <code class="docutils literal notranslate"><span class="pre">setup()</span></code> function.  The keyword arguments to this function are how
specific details of your project are defined.</p>
<p>The most relevant arguments are explained below. Most of the snippets given are
taken from the <a class="reference external" href="https://github.com/pypa/sampleproject/blob/main/setup.py">setup.py</a> contained in the
<a class="reference external" href="https://github.com/pypa/sampleproject">PyPA sample project</a>.</p>
<section id="name">
<span id="setup-name"></span><h4><a class="toc-backref" href="#id37"><code class="docutils literal notranslate"><span class="pre">name</span></code></a><a class="headerlink" href="#name" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This is the name of your project, determining how your project is listed on
<a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>.  Per <span class="target" id="index-0"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0508"><strong>PEP 508</strong></a>, valid project
names must:</p>
<ul class="simple">
<li><p>Consist only of ASCII letters, digits, underscores (<code class="docutils literal notranslate"><span class="pre">_</span></code>), hyphens (<code class="docutils literal notranslate"><span class="pre">-</span></code>),
and/or periods (<code class="docutils literal notranslate"><span class="pre">.</span></code>), and</p></li>
<li><p>以一个 ASCII 字母或数字开始和结束。</p></li>
</ul>
<p>Comparison of project names is case insensitive and treats arbitrarily-long
runs of underscores, hyphens, and/or periods as equal.  For example, if you
register a project named <code class="docutils literal notranslate"><span class="pre">cool-stuff</span></code>, users will be able to download it or
declare a dependency on it using any of the following spellings:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Cool</span><span class="o">-</span><span class="n">Stuff</span>
<span class="n">cool</span><span class="o">.</span><span class="n">stuff</span>
<span class="n">COOL_STUFF</span>
<span class="n">CoOl__</span><span class="o">-.-</span><span class="n">__sTuFF</span>
</pre></div>
</div>
</section>
<section id="version">
<h4><a class="toc-backref" href="#id38"><code class="docutils literal notranslate"><span class="pre">version</span></code></a><a class="headerlink" href="#version" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">version</span><span class="o">=</span><span class="s1">&#39;1.2.0&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>This is the current version of your project, allowing your users to determine whether or not
they have the latest version, and to indicate which specific versions they’ve tested their own
software against.</p>
<p>如果您发布了您的项目，每个版本都会显示在 <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> 上。</p>
<p>See <a class="reference internal" href="#choosing-a-versioning-scheme"><span class="std std-ref">Choosing a versioning scheme</span></a> for more information on ways to use versions to convey
compatibility information to your users.</p>
<p>If the project code itself needs run-time access to the version, the simplest
way is to keep the version in both <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> and your code. If you’d
rather not duplicate the value, there are a few ways to manage this. See the
“<a class="reference internal" href="single-sourcing-package-version.html#single-sourcing-the-version"><span class="std std-ref">Single-sourcing the package version</span></a>” Advanced Topics section.</p>
</section>
<section id="description">
<span id="id13"></span><h4><a class="toc-backref" href="#id39"><code class="docutils literal notranslate"><span class="pre">description</span></code></a><a class="headerlink" href="#description" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">description</span><span class="o">=</span><span class="s1">&#39;A sample Python project&#39;</span><span class="p">,</span>
<span class="n">long_description</span><span class="o">=</span><span class="n">long_description</span><span class="p">,</span>
<span class="n">long_description_content_type</span><span class="o">=</span><span class="s1">&#39;text/x-rst&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>为您的项目提供一个简短和长的描述。</p>
<p>These values will be displayed on <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>
if you publish your project. On <code class="docutils literal notranslate"><span class="pre">pypi.org</span></code>, the user interface displays
<code class="docutils literal notranslate"><span class="pre">description</span></code> in the grey banner and <code class="docutils literal notranslate"><span class="pre">long_description</span></code> in the section
named “Project Description”.</p>
<p><code class="docutils literal notranslate"><span class="pre">description</span></code> is also displayed in lists of projects. For example, it’s
visible in the search results pages such as <a class="reference external" href="https://pypi.org/search/?q=jupyter">https://pypi.org/search/?q=jupyter</a>,
the front-page lists of trending projects and new releases, and the list of
projects you maintain within your account profile (such as
<a class="reference external" href="https://pypi.org/user/jaraco/">https://pypi.org/user/jaraco/</a>).</p>
<p>A <a class="reference external" href="https://packaging.python.org/specifications/core-metadata/#description-content-type-optional">content type</a>
can be specified with the <code class="docutils literal notranslate"><span class="pre">long_description_content_type</span></code> argument, which can
be one of <code class="docutils literal notranslate"><span class="pre">text/plain</span></code>, <code class="docutils literal notranslate"><span class="pre">text/x-rst</span></code>, or <code class="docutils literal notranslate"><span class="pre">text/markdown</span></code>, corresponding
to no formatting, <a class="reference external" href="https://docutils.sourceforge.io/docs/ref/rst/restructuredtext.html#reference-names">reStructuredText (reST)</a>,
and the Github-flavored Markdown dialect of <a class="reference external" href="https://daringfireball.net/projects/markdown/">Markdown</a> respectively.</p>
</section>
<section id="url">
<h4><a class="toc-backref" href="#id40"><code class="docutils literal notranslate"><span class="pre">url</span></code></a><a class="headerlink" href="#url" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">url</span><span class="o">=</span><span class="s1">&#39;https://github.com/pypa/sampleproject&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>为您的项目提供一个主页 URL 。</p>
</section>
<section id="author">
<h4><a class="toc-backref" href="#id41"><code class="docutils literal notranslate"><span class="pre">author</span></code></a><a class="headerlink" href="#author" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">author</span><span class="o">=</span><span class="s1">&#39;A. Random Developer&#39;</span><span class="p">,</span>
<span class="n">author_email</span><span class="o">=</span><span class="s1">&#39;author@example.com&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>提供关于作者的详细信息。</p>
</section>
<section id="license">
<h4><a class="toc-backref" href="#id42"><code class="docutils literal notranslate"><span class="pre">license</span></code></a><a class="headerlink" href="#license" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">license</span><span class="o">=</span><span class="s1">&#39;MIT&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">license</span></code> argument doesn’t have to indicate the license under
which your package is being released, although you may optionally do
so if you want.  If you’re using a standard, well-known license, then
your main indication can and should be via the <code class="docutils literal notranslate"><span class="pre">classifiers</span></code>
argument. Classifiers exist for all major open-source licenses.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">license</span></code> argument is more typically used to indicate differences
from well-known licenses, or to include your own, unique license. As a
general rule, it’s a good idea to use a standard, well-known license,
both to avoid confusion and because some organizations avoid software
whose license is unapproved.</p>
</section>
<section id="classifiers">
<h4><a class="toc-backref" href="#id43"><code class="docutils literal notranslate"><span class="pre">classifiers</span></code></a><a class="headerlink" href="#classifiers" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">classifiers</span><span class="o">=</span><span class="p">[</span>
    <span class="c1"># How mature is this project? Common values are</span>
    <span class="c1">#   3 - Alpha</span>
    <span class="c1">#   4 - Beta</span>
    <span class="c1">#   5 - Production/Stable</span>
    <span class="s1">&#39;Development Status :: 3 - Alpha&#39;</span><span class="p">,</span>

    <span class="c1"># Indicate who your project is intended for</span>
    <span class="s1">&#39;Intended Audience :: Developers&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Topic :: Software Development :: Build Tools&#39;</span><span class="p">,</span>

    <span class="c1"># Pick your license as you wish (should match &quot;license&quot; above)</span>
    <span class="s1">&#39;License :: OSI Approved :: MIT License&#39;</span><span class="p">,</span>

    <span class="c1"># Specify the Python versions you support here. In particular, ensure</span>
    <span class="c1"># that you indicate whether you support Python 2, Python 3 or both.</span>
    <span class="s1">&#39;Programming Language :: Python :: 2&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Programming Language :: Python :: 2.7&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Programming Language :: Python :: 3&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Programming Language :: Python :: 3.6&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Programming Language :: Python :: 3.7&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Programming Language :: Python :: 3.8&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Programming Language :: Python :: 3.9&#39;</span><span class="p">,</span>
<span class="p">],</span>
</pre></div>
</div>
<p>提供对您的项目进行分类的分类器列表。有关完整列表，请参阅 <a class="reference external" href="https://pypi.org/classifiers/">https://pypi.org/classifiers/</a> 。</p>
<p>Although the list of classifiers is often used to declare what Python versions
a project supports, this information is only used for searching &amp; browsing
projects on PyPI, not for installing projects.  To actually restrict what
Python versions a project can be installed on, use the <a class="reference internal" href="#python-requires"><span class="std std-ref">python_requires</span></a>
argument.</p>
</section>
<section id="keywords">
<h4><a class="toc-backref" href="#id44"><code class="docutils literal notranslate"><span class="pre">keywords</span></code></a><a class="headerlink" href="#keywords" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keywords</span><span class="o">=</span><span class="s1">&#39;sample setuptools development&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>列出描述你的项目的关键词。</p>
</section>
<section id="project-urls">
<h4><a class="toc-backref" href="#id45"><code class="docutils literal notranslate"><span class="pre">project_urls</span></code></a><a class="headerlink" href="#project-urls" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">project_urls</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;Documentation&#39;</span><span class="p">:</span> <span class="s1">&#39;https://packaging.python.org/tutorials/distributing-packages/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Funding&#39;</span><span class="p">:</span> <span class="s1">&#39;https://donate.pypi.org&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Say Thanks!&#39;</span><span class="p">:</span> <span class="s1">&#39;http://saythanks.io/to/example&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Source&#39;</span><span class="p">:</span> <span class="s1">&#39;https://github.com/pypa/sampleproject/&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Tracker&#39;</span><span class="p">:</span> <span class="s1">&#39;https://github.com/pypa/sampleproject/issues&#39;</span><span class="p">,</span>
<span class="p">},</span>
</pre></div>
</div>
<p>List additional relevant URLs about your project. This is the place to link to
bug trackers, source repositories, or where to support package development.
The string of the key is the exact text that will be displayed on PyPI.</p>
</section>
<section id="packages">
<h4><a class="toc-backref" href="#id46"><code class="docutils literal notranslate"><span class="pre">packages</span></code></a><a class="headerlink" href="#packages" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">packages</span><span class="o">=</span><span class="n">find_packages</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sample&#39;</span><span class="p">,</span> <span class="s1">&#39;sample.*&#39;</span><span class="p">]),</span>
</pre></div>
</div>
<p>Set <code class="docutils literal notranslate"><span class="pre">packages</span></code> to a list of all <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">packages</span></a> in your
project, including their subpackages, sub-subpackages, etc.  Although the
packages can be listed manually, <code class="docutils literal notranslate"><span class="pre">setuptools.find_packages()</span></code> finds them
automatically.  Use the <code class="docutils literal notranslate"><span class="pre">include</span></code> keyword argument to find only the given
packages.  Use the <code class="docutils literal notranslate"><span class="pre">exclude</span></code> keyword argument to omit packages that are not
intended to be released and installed.</p>
</section>
<section id="py-modules">
<h4><a class="toc-backref" href="#id47"><code class="docutils literal notranslate"><span class="pre">py_modules</span></code></a><a class="headerlink" href="#py-modules" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">py_modules</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;six&quot;</span><span class="p">],</span>
</pre></div>
</div>
<p>If your project contains any single-file Python modules that aren’t part of a
package, set <code class="docutils literal notranslate"><span class="pre">py_modules</span></code> to a list of the names of the modules (minus the
<code class="docutils literal notranslate"><span class="pre">.py</span></code> extension) in order to make <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a> aware of them.</p>
</section>
<section id="install-requires">
<h4><a class="toc-backref" href="#id48"><code class="docutils literal notranslate"><span class="pre">install_requires</span></code></a><a class="headerlink" href="#install-requires" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">install_requires</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;peppercorn&#39;</span><span class="p">],</span>
</pre></div>
</div>
<p>“install_requires” should be used to specify what dependencies a project
minimally needs to run. When the project is installed by <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a>, this is the
specification that is used to install its dependencies.</p>
<p>For more on using “install_requires” see <a class="reference internal" href="../discussions/install-requires-vs-requirements.html#install-requires-vs-requirements-files"><span class="std std-ref">install_requires 与 requirements files</span></a>.</p>
</section>
<section id="python-requires">
<span id="id15"></span><h4><a class="toc-backref" href="#id49"><code class="docutils literal notranslate"><span class="pre">python_requires</span></code></a><a class="headerlink" href="#python-requires" title="永久链接至标题">¶</a></h4>
<p>If your project only runs on certain Python versions, setting the
<code class="docutils literal notranslate"><span class="pre">python_requires</span></code> argument to the appropriate <span class="target" id="index-1"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440"><strong>PEP 440</strong></a> version specifier
string will prevent <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a> from installing the project on other Python
versions.  For example, if your package is for Python 3+ only, write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python_requires</span><span class="o">=</span><span class="s1">&#39;&gt;=3&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>If your package is for Python 2.6, 2.7, and all versions of Python 3 starting
with 3.3, write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python_requires</span><span class="o">=</span><span class="s1">&#39;&gt;=2.6, !=3.0.*, !=3.1.*, !=3.2.*&#39;</span><span class="p">,</span>
</pre></div>
</div>
<p>And so on.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Support for this feature is relatively recent.  Your project’s source
distributions and wheels (see <a class="reference internal" href="#packaging-your-project"><span class="std std-ref">包装你的项目</span></a>) must be built
using at least version 24.2.0 of <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a> in order for the
<code class="docutils literal notranslate"><span class="pre">python_requires</span></code> argument to be recognized and the appropriate metadata
generated.</p>
<p>In addition, only versions 9.0.0 and higher of <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a> recognize the
<code class="docutils literal notranslate"><span class="pre">python_requires</span></code> metadata.  Users with earlier versions of pip will be
able to download &amp; install projects on any Python version regardless of the
projects’ <code class="docutils literal notranslate"><span class="pre">python_requires</span></code> values.</p>
</div>
</section>
<section id="package-data">
<span id="id16"></span><h4><a class="toc-backref" href="#id50"><code class="docutils literal notranslate"><span class="pre">package_data</span></code></a><a class="headerlink" href="#package-data" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">package_data</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;sample&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;package_data.dat&#39;</span><span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>Often, additional files need to be installed into a <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">package</span></a>. These files are often data that’s closely related to the package’s
implementation, or text files containing documentation that might be of interest
to programmers using the package. These files are called “package data”.</p>
<p>The value must be a mapping from package name to a list of relative path names
that should be copied into the package. The paths are interpreted as relative to
the directory containing the package.</p>
<p>For more information, see <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/datafiles.html" title="(在 setuptools v60.5.4)"><span class="xref std std-doc">Including Data Files</span></a> from the
<a class="reference external" href="https://setuptools.pypa.io/en/latest/index.html" title="(在 setuptools v60.5.4)"><span class="xref std std-doc">setuptools docs</span></a>.</p>
</section>
<section id="data-files">
<span id="id17"></span><h4><a class="toc-backref" href="#id51"><code class="docutils literal notranslate"><span class="pre">data_files</span></code></a><a class="headerlink" href="#data-files" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">data_files</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;my_data&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;data/data_file&#39;</span><span class="p">])],</span>
</pre></div>
</div>
<p>Although configuring <a class="reference internal" href="#package-data"><span class="std std-ref">package_data</span></a> is sufficient for most needs, in some
cases you may need to place data files <em>outside</em> of your <a class="reference internal" href="../glossary.html#term-Import-Package"><span class="xref std std-term">packages</span></a>.  The <code class="docutils literal notranslate"><span class="pre">data_files</span></code> directive allows you to do that.
It is mostly useful if you need to install files which are used by other
programs, which may be unaware of Python packages.</p>
<p>Each <code class="docutils literal notranslate"><span class="pre">(directory,</span> <span class="pre">files)</span></code> pair in the sequence specifies the installation
directory and the files to install there. The <code class="docutils literal notranslate"><span class="pre">directory</span></code> must be a relative
path (although this may change in the future, see
<a class="reference external" href="https://github.com/pypa/wheel/issues/92">wheel Issue #92</a>),
and it is interpreted relative to the installation prefix
(Python’s <code class="docutils literal notranslate"><span class="pre">sys.prefix</span></code> for a default installation;
<code class="docutils literal notranslate"><span class="pre">site.USER_BASE</span></code> for a user installation).
Each file name in <code class="docutils literal notranslate"><span class="pre">files</span></code> is interpreted relative to the <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code>
script at the top of the project source distribution.</p>
<p>For more information see the distutils section on <a class="reference external" href="https://docs.python.org/3/distutils/setupscript.html#distutils-additional-files" title="(在 Python v3.10)"><span class="xref std std-ref">Installing Additional Files</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>When installing packages as egg, <code class="docutils literal notranslate"><span class="pre">data_files</span></code> is not supported.
So, if your project uses <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a>, you must use <code class="docutils literal notranslate"><span class="pre">pip</span></code>
to install it. Alternatively, if you must use <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span></code>,
then you need to pass the <code class="docutils literal notranslate"><span class="pre">--old-and-unmanageable</span></code> option.</p>
</div>
</section>
<section id="scripts">
<h4><a class="toc-backref" href="#id52"><code class="docutils literal notranslate"><span class="pre">scripts</span></code></a><a class="headerlink" href="#scripts" title="永久链接至标题">¶</a></h4>
<p>Although <code class="docutils literal notranslate"><span class="pre">setup()</span></code> supports a <a class="reference external" href="https://docs.python.org/3/distutils/setupscript.html#distutils-installing-scripts" title="(在 Python v3.10)"><span class="xref std std-ref">scripts</span></a>
keyword for pointing to pre-made scripts to install, the recommended approach to
achieve cross-platform compatibility is to use <a class="reference internal" href="#console-scripts"><span class="std std-ref">console_scripts</span></a> entry
points (see below).</p>
</section>
<section id="entry-points">
<h4><a class="toc-backref" href="#id53"><code class="docutils literal notranslate"><span class="pre">entry_points</span></code></a><a class="headerlink" href="#entry-points" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
  <span class="o">...</span>
<span class="p">},</span>
</pre></div>
</div>
<p>Use this keyword to specify any plugins that your project provides for any named
entry points that may be defined by your project or others that you depend on.</p>
<p>For more information, see the section on
<a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html#dynamic-discovery-of-services-and-plugins" title="(在 setuptools v60.5.4)"><span class="xref std std-ref">Advertising Behavior</span></a>
from the <a class="reference internal" href="../key_projects.html#setuptools"><span class="std std-ref">setuptools</span></a> docs.</p>
<p>The most commonly used entry point is “console_scripts” (see below).</p>
<section id="console-scripts">
<span id="id18"></span><h5><a class="toc-backref" href="#id54"><code class="docutils literal notranslate"><span class="pre">console_scripts</span></code></a><a class="headerlink" href="#console-scripts" title="永久链接至标题">¶</a></h5>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">entry_points</span><span class="o">=</span><span class="p">{</span>
    <span class="s1">&#39;console_scripts&#39;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s1">&#39;sample=sample:main&#39;</span><span class="p">,</span>
    <span class="p">],</span>
<span class="p">},</span>
</pre></div>
</div>
<p>使用 <code class="docutils literal notranslate"><span class="pre">console_script</span></code> <a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/entry_point.html#dynamic-discovery-of-services-and-plugins" title="(在 setuptools v60.5.4)"><span class="xref std std-ref">entry points</span></a> 来注册你的脚本接口。然后你可以让工具链处理将这些接口变成实际脚本的工作 <a class="footnote-reference brackets" href="#id26" id="id19">2</a>。脚本将在安装你的 <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">套件</span></a> 时生成。</p>
<p>For more information, see <a class="reference external" href="https://setuptools.readthedocs.io/en/latest/userguide/quickstart.html#entry-points-and-automatic-script-creation">Automatic Script Creation</a>
from the <a class="reference external" href="https://setuptools.pypa.io/en/latest/index.html" title="(在 setuptools v60.5.4)"><span class="xref std std-doc">setuptools docs</span></a>.</p>
</section>
</section>
</section>
<section id="choosing-a-versioning-scheme">
<span id="id20"></span><h3><a class="toc-backref" href="#id55">Choosing a versioning scheme</a><a class="headerlink" href="#choosing-a-versioning-scheme" title="永久链接至标题">¶</a></h3>
<section id="standards-compliance-for-interoperability">
<h4><a class="toc-backref" href="#id56">Standards compliance for interoperability</a><a class="headerlink" href="#standards-compliance-for-interoperability" title="永久链接至标题">¶</a></h4>
<p>Different Python projects may use different versioning schemes based on the needs of that
particular project, but all of them are required to comply with the flexible <span class="target" id="index-2"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440#public-version-identifiers"><strong>public version
scheme</strong></a> specified
in <span class="target" id="index-3"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440"><strong>PEP 440</strong></a> in order to be supported in tools and libraries like <code class="docutils literal notranslate"><span class="pre">pip</span></code>
and <code class="docutils literal notranslate"><span class="pre">setuptools</span></code>.</p>
<p>Here are some examples of compliant version numbers:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.2.0</span><span class="o">.</span><span class="n">dev1</span>  <span class="c1"># Development release</span>
<span class="mf">1.2.0</span><span class="n">a1</span>     <span class="c1"># Alpha Release</span>
<span class="mf">1.2.0</span><span class="n">b1</span>     <span class="c1"># Beta Release</span>
<span class="mf">1.2.0</span><span class="n">rc1</span>    <span class="c1"># Release Candidate</span>
<span class="mf">1.2.0</span>       <span class="c1"># Final Release</span>
<span class="mf">1.2.0</span><span class="o">.</span><span class="n">post1</span> <span class="c1"># Post Release</span>
<span class="mf">15.10</span>       <span class="c1"># Date based release</span>
<span class="mi">23</span>          <span class="c1"># Serial release</span>
</pre></div>
</div>
<p>To further accommodate historical variations in approaches to version numbering,
<span class="target" id="index-4"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440"><strong>PEP 440</strong></a> also defines a comprehensive technique for <span class="target" id="index-5"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440#normalization"><strong>version
normalisation</strong></a> that maps
variant spellings of different version numbers to a standardised canonical form.</p>
</section>
<section id="scheme-choices">
<h4><a class="toc-backref" href="#id57">Scheme choices</a><a class="headerlink" href="#scheme-choices" title="永久链接至标题">¶</a></h4>
<section id="semantic-versioning-preferred">
<h5><a class="toc-backref" href="#id58">Semantic versioning (preferred)</a><a class="headerlink" href="#semantic-versioning-preferred" title="永久链接至标题">¶</a></h5>
<p>For new projects, the recommended versioning scheme is based on <a class="reference external" href="https://semver.org/">Semantic Versioning</a>, but adopts a different approach to handling pre-releases and
build metadata.</p>
<p>The essence of semantic versioning is a 3-part MAJOR.MINOR.MAINTENANCE numbering scheme,
where the project author increments:</p>
<ol class="arabic simple">
<li><p>MAJOR version when they make incompatible API changes,</p></li>
<li><p>MINOR version when they add functionality in a backwards-compatible manner, and</p></li>
<li><p>MAINTENANCE version when they make backwards-compatible bug fixes.</p></li>
</ol>
<p>Adopting this approach as a project author allows users to make use of <span class="target" id="index-6"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440#compatible-release"><strong>“compatible release”</strong></a> specifiers, where
<code class="docutils literal notranslate"><span class="pre">name</span> <span class="pre">~=</span> <span class="pre">X.Y</span></code> requires at least release X.Y, but also allows any later release with
a matching MAJOR version.</p>
<p>Python projects adopting semantic versioning should abide by clauses 1-8 of the
<a class="reference external" href="https://semver.org/">Semantic Versioning 2.0.0 specification</a>.</p>
</section>
<section id="date-based-versioning">
<h5><a class="toc-backref" href="#id59">Date based versioning</a><a class="headerlink" href="#date-based-versioning" title="永久链接至标题">¶</a></h5>
<p>Semantic versioning is not a suitable choice for all projects, such as those with a regular
time based release cadence and a deprecation process that provides warnings for a number of
releases prior to removal of a feature.</p>
<p>A key advantage of date based versioning is that it is straightforward to tell how old the
base feature set of a particular release is given just the version number.</p>
<p>Version numbers for date based projects typically take the form of YEAR.MONTH (for example,
<code class="docutils literal notranslate"><span class="pre">12.04</span></code>, <code class="docutils literal notranslate"><span class="pre">15.10</span></code>).</p>
</section>
<section id="serial-versioning">
<h5><a class="toc-backref" href="#id60">Serial versioning</a><a class="headerlink" href="#serial-versioning" title="永久链接至标题">¶</a></h5>
<p>This is the simplest possible versioning scheme, and consists of a single number which is
incremented every release.</p>
<p>While serial versioning is very easy to manage as a developer, it is the hardest to track
as an end user, as serial version numbers convey little or no information regarding API
backwards compatibility.</p>
</section>
<section id="hybrid-schemes">
<h5><a class="toc-backref" href="#id61">Hybrid schemes</a><a class="headerlink" href="#hybrid-schemes" title="永久链接至标题">¶</a></h5>
<p>Combinations of the above schemes are possible. For example, a project may combine date
based versioning with serial versioning to create a YEAR.SERIAL numbering scheme that
readily conveys the approximate age of a release, but doesn’t otherwise commit to a particular
release cadence within the year.</p>
</section>
</section>
<section id="pre-release-versioning">
<h4><a class="toc-backref" href="#id62">Pre-release versioning</a><a class="headerlink" href="#pre-release-versioning" title="永久链接至标题">¶</a></h4>
<p>Regardless of the base versioning scheme, pre-releases for a given final release may be
published as:</p>
<ul class="simple">
<li><p>zero or more dev releases (denoted with a “.devN” suffix)</p></li>
<li><p>zero or more alpha releases (denoted with a “.aN” suffix)</p></li>
<li><p>zero or more beta releases (denoted with a “.bN” suffix)</p></li>
<li><p>zero or more release candidates (denoted with a “.rcN” suffix)</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">pip</span></code> and other modern Python package installers ignore pre-releases by default when
deciding which versions of dependencies to install.</p>
</section>
<section id="local-version-identifiers">
<h4><a class="toc-backref" href="#id63">本地版本标识符</a><a class="headerlink" href="#local-version-identifiers" title="永久链接至标题">¶</a></h4>
<p>Public version identifiers are designed to support distribution via
<a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>. Python’s software distribution tools also support
the notion of a <span class="target" id="index-7"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0440#local-version-identifiers"><strong>local version identifier</strong></a>, which can be used to
identify local development builds not intended for publication, or modified variants of a release
maintained by a redistributor.</p>
<p>A local version identifier takes the form <code class="docutils literal notranslate"><span class="pre">&lt;public</span> <span class="pre">version</span> <span class="pre">identifier&gt;+&lt;local</span> <span class="pre">version</span> <span class="pre">label&gt;</span></code>.
For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.2.0</span><span class="o">.</span><span class="n">dev1</span><span class="o">+</span><span class="n">hg</span><span class="mf">.5</span><span class="o">.</span><span class="n">b11e5e6f0b0b</span>  <span class="c1"># 5th VCS commit since 1.2.0.dev1 release</span>
<span class="mf">1.2.1</span><span class="o">+</span><span class="n">fedora</span><span class="mf">.4</span>                <span class="c1"># Package with downstream Fedora patches applied</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="working-in-development-mode">
<h2><a class="toc-backref" href="#id64">在 「开发模式」(development mode) 下工作</a><a class="headerlink" href="#working-in-development-mode" title="永久链接至标题">¶</a></h2>
<p>You can install a project in “editable”
or “develop” mode while you’re working on it.
When installed as editable, a project can be
edited in-place without reinstallation:
changes to Python source files in projects installed as editable will be reflected the next time an interpreter process is started.</p>
<p>To install a Python package in “editable”/”development” mode
Change directory to the root of the project directory and run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m pip install -e .
</pre></div>
</div>
<p>The pip command-line flag <code class="docutils literal notranslate"><span class="pre">-e</span></code> is short for <code class="docutils literal notranslate"><span class="pre">--editable</span></code>, and <code class="docutils literal notranslate"><span class="pre">.</span></code> refers
to the current working directory, so together, it means to install the current
directory (i.e. your project) in editable mode.  This will also install any
dependencies declared with <code class="docutils literal notranslate"><span class="pre">install_requires</span></code> and any scripts declared with
<code class="docutils literal notranslate"><span class="pre">console_scripts</span></code>.  Dependencies will be installed in the usual, non-editable
mode.</p>
<p>You may want to install some of your dependencies in editable
mode as well. For example, supposing your project requires “foo” and “bar”, but
you want “bar” installed from VCS in editable mode, then you could construct a
requirements file like so:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">e</span> <span class="o">.</span>
<span class="o">-</span><span class="n">e</span> <span class="n">git</span><span class="o">+</span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">somerepo</span><span class="o">/</span><span class="n">bar</span><span class="o">.</span><span class="n">git</span><span class="c1">#egg=bar</span>
</pre></div>
</div>
<p>The first line says to install your project and any dependencies. The second
line overrides the “bar” dependency, such that it’s fulfilled from VCS, not
PyPI.</p>
<p>If, however, you want “bar” installed from a local directory in editable mode, the requirements file should look like this, with the local paths at the top of the file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">-</span><span class="n">e</span> <span class="o">/</span><span class="n">path</span><span class="o">/</span><span class="n">to</span><span class="o">/</span><span class="n">project</span><span class="o">/</span><span class="n">bar</span>
<span class="o">-</span><span class="n">e</span> <span class="o">.</span>
</pre></div>
</div>
<p>Otherwise, the dependency will be fulfilled from PyPI, due to the installation order of the requirements file.  For more on requirements files, see the <a class="reference external" href="https://pip.pypa.io/en/latest/user_guide/#requirements-files" title="(在 pip v22.0)"><span class="xref std std-ref">Requirements File</span></a> section in the pip docs.  For more on VCS installs,
see the <a class="reference external" href="https://pip.pypa.io/en/latest/cli/pip_install/#vcs-support" title="(在 pip v22.0)"><span class="xref std std-ref">VCS Support</span></a> section of the pip docs.</p>
<p>Lastly, if you don’t want to install any dependencies at all, you can run:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m pip install -e . --no-deps
</pre></div>
</div>
<p>For more information, see the
<a class="reference external" href="https://setuptools.pypa.io/en/latest/userguide/development_mode.html" title="(在 setuptools v60.5.4)"><span class="xref std std-doc">Development Mode</span></a> section
of the <a class="reference external" href="https://setuptools.pypa.io/en/latest/setuptools.html" title="(在 setuptools v60.5.4)"><span class="xref std std-doc">setuptools docs</span></a>.</p>
</section>
<section id="packaging-your-project">
<span id="id21"></span><h2><a class="toc-backref" href="#id65">包装你的项目</a><a class="headerlink" href="#packaging-your-project" title="永久链接至标题">¶</a></h2>
<p>为了让你的项目可以从 <a class="reference internal" href="../glossary.html#term-Package-Index"><span class="xref std std-term">包索引</span></a> 中安装，比如 <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>，你需要为你的项目创建一个 <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">套件</span></a> （又称 ” <a class="reference internal" href="../glossary.html#term-Distribution-Package"><span class="xref std std-term">包</span></a> “）。</p>
<p>Before you can build wheels and sdists for your project, you’ll need to install the
<code class="docutils literal notranslate"><span class="pre">build</span></code> package:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--1-input--1" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m pip install build
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--1-input--2" name="tab-set--1" type="radio"><label class="tab-label" for="tab-set--1-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m pip install build
</pre></div>
</div>
</div>
</div>
<section id="source-distributions">
<h3><a class="toc-backref" href="#id66">Source distributions</a><a class="headerlink" href="#source-distributions" title="永久链接至标题">¶</a></h3>
<p>Minimally, you should create a <a class="reference internal" href="../glossary.html#term-Source-Distribution-or-sdist"><span class="xref std std-term">Source Distribution</span></a>:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--2-input--1" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m build --sdist
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--2-input--2" name="tab-set--2" type="radio"><label class="tab-label" for="tab-set--2-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --sdist
</pre></div>
</div>
</div>
</div>
<p>A “source distribution” is unbuilt (i.e. it’s not a <a class="reference internal" href="../glossary.html#term-Built-Distribution"><span class="xref std std-term">Built
Distribution</span></a>), and requires a build step when installed by pip.  Even if the
distribution is pure Python (i.e. contains no extensions), it still involves a
build step to build out the installation metadata from <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> and/or
<code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code>.</p>
</section>
<section id="wheels">
<h3><a class="toc-backref" href="#id67">Wheels</a><a class="headerlink" href="#wheels" title="永久链接至标题">¶</a></h3>
<p>You should also create a wheel for your project. A wheel is a <a class="reference internal" href="../glossary.html#term-Built-Distribution"><span class="xref std std-term">built
package</span></a> that can be installed without needing to go
through the “build” process. Installing wheels is substantially faster for the
end user than installing from a source distribution.</p>
<p>If your project is pure Python then you’ll be creating a
<a class="reference internal" href="#pure-python-wheels"><span class="std std-ref">“Pure Python Wheel” (see section below)</span></a>.</p>
<p>If your project contains compiled extensions, then you’ll be creating what’s
called a <a class="reference internal" href="#platform-wheels"><span class="std std-ref">*Platform Wheel* (see section below)</span></a>.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>If your project also supports Python 2 <em>and</em> contains no C extensions,
then you should create what’s called a <em>Universal Wheel</em> by adding the
following to your <code class="file docutils literal notranslate"><span class="pre">setup.cfg</span></code> file:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[bdist_wheel]
universal=1
</pre></div>
</div>
<p>Only use this setting if your project does not have any C extensions <em>and</em>
supports Python 2 and 3.</p>
</div>
<section id="pure-python-wheels">
<span id="id22"></span><h4><a class="toc-backref" href="#id68">Pure Python Wheels</a><a class="headerlink" href="#pure-python-wheels" title="永久链接至标题">¶</a></h4>
<p><em>Pure Python Wheels</em> contain no compiled extensions, and therefore only require a
single Python wheel.</p>
<p>To build the wheel:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--3-input--1" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python -m build --wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--3-input--2" name="tab-set--3" type="radio"><label class="tab-label" for="tab-set--3-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --wheel
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">wheel</span></code> package will detect that the code is pure Python, and build a
wheel that’s named such that it’s usable on any Python 3 installation.  For
details on the naming of wheel files, see <span class="target" id="index-8"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0425"><strong>PEP 425</strong></a>.</p>
<p>If you run <code class="docutils literal notranslate"><span class="pre">build</span></code> without <code class="docutils literal notranslate"><span class="pre">--wheel</span></code> or <code class="docutils literal notranslate"><span class="pre">--sdist</span></code>, it will build both
files for you; this is useful when you don’t need multiple wheels.</p>
</section>
<section id="platform-wheels">
<span id="id23"></span><h4><a class="toc-backref" href="#id69">Platform Wheels</a><a class="headerlink" href="#platform-wheels" title="永久链接至标题">¶</a></h4>
<p><em>Platform Wheels</em> are wheels that are specific to a certain platform like Linux,
macOS, or Windows, usually due to containing compiled extensions.</p>
<p>To build the wheel:</p>
<div class="tab-set docutils container">
<input checked="True" class="tab-input" id="tab-set--4-input--1" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--1">Unix/macOS</label><div class="tab-content docutils container">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python3 -m build --wheel
</pre></div>
</div>
</div>
<input class="tab-input" id="tab-set--4-input--2" name="tab-set--4" type="radio"><label class="tab-label" for="tab-set--4-input--2">Windows</label><div class="tab-content docutils container">
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span>py -m build --wheel
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">wheel</span></code> package will detect that the code is not pure Python, and build
a wheel that’s named such that it’s only usable on the platform that it was
built on. For details on the naming of wheel files, see <span class="target" id="index-9"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0425"><strong>PEP 425</strong></a>.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p><a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> currently supports uploads of
platform wheels for Windows, macOS, and the multi-distro <code class="docutils literal notranslate"><span class="pre">manylinux*</span></code> ABI.
Details of the latter are defined in <span class="target" id="index-10"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0513"><strong>PEP 513</strong></a>.</p>
</div>
</section>
</section>
</section>
<section id="uploading-your-project-to-pypi">
<span id="id24"></span><h2><a class="toc-backref" href="#id70">Uploading your Project to PyPI</a><a class="headerlink" href="#uploading-your-project-to-pypi" title="永久链接至标题">¶</a></h2>
<p>When you ran the command to create your distribution, a new directory <code class="docutils literal notranslate"><span class="pre">dist/</span></code>
was created under your project’s root directory. That’s where you’ll find your
distribution file(s) to upload.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>These files are only created when you run the command to create your
distribution. This means that any time you change the source of your project
or the configuration in your <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> file, you will need to rebuild
these files again before you can distribute the changes to PyPI.</p>
</div>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Before releasing on main PyPI repo, you might prefer
training with the <a class="reference external" href="https://test.pypi.org/">PyPI test site</a> which
is cleaned on a semi regular basis. See <a class="reference internal" href="using-testpypi.html#using-test-pypi"><span class="std std-ref">使用 TestPyPI</span></a> on
how to setup your configuration in order to use it.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>In other resources you may encounter references to using
<code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">register</span></code> and <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">setup.py</span> <span class="pre">upload</span></code>. These methods
of registering and uploading a package are <strong>strongly discouraged</strong> as it may
use a plaintext HTTP or unverified HTTPS connection on some Python versions,
allowing your username and password to be intercepted during transmission.</p>
</div>
<div class="admonition tip">
<p class="admonition-title">小技巧</p>
<p>The reStructuredText parser used on PyPI is <strong>not</strong> Sphinx!
Furthermore, to ensure safety of all users, certain kinds of URLs and
directives are forbidden or stripped out (e.g., the <code class="docutils literal notranslate"><span class="pre">..</span> <span class="pre">raw::</span></code>
directive). <strong>Before</strong> trying to upload your distribution, you should check
to see if your brief / long descriptions provided in <code class="file docutils literal notranslate"><span class="pre">setup.py</span></code> are
valid.  You can do this by running <a class="reference internal" href="index.html"><span class="doc">twine check</span></a> on
your package files:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine check dist/*
</pre></div>
</div>
</div>
<section id="create-an-account">
<h3><a class="toc-backref" href="#id71">创建一个账户</a><a class="headerlink" href="#create-an-account" title="永久链接至标题">¶</a></h3>
<p>First, you need a <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a> user account. You
can create an account
<a class="reference external" href="https://pypi.org/account/register/">using the form on the PyPI website</a>.</p>
<p>Now you’ll create a PyPI <a class="reference external" href="https://pypi.org/help/#apitoken">API token</a> so you will be able to securely upload
your project.</p>
<p>到 <a class="reference external" href="https://pypi.org/manage/account/#api-tokens">https://pypi.org/manage/account/#api-tokens</a> 上创建一个新的 <a class="reference external" href="https://pypi.org/help/#apitoken">API token</a> ；不要把其范围限制在一个特定的项目上，因为你正在创建一个新的项目。</p>
<p><strong>在复制和保存令牌之前不要关闭页面──您不会再看到该令牌。</strong></p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>为了避免每次上传时都要复制和粘贴令牌，您可以创建一个 <code class="file docutils literal notranslate"><span class="pre">$HOME/.pypirc</span></code> 文件：</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>[pypi]
username = __token__
password = &lt;the token value, including the `pypi-` prefix&gt;
</pre></div>
</div>
<p><strong>请注意，这将以明文形式存储您的令牌。</strong></p>
<p>有关更多详细信息，请参见 <a class="reference internal" href="../specifications/pypirc.html#pypirc"><span class="std std-ref">规格</span></a> for <code class="file docutils literal notranslate"><span class="pre">.pypirc</span></code>。</p>
</div>
</section>
<section id="upload-your-distributions">
<h3><a class="toc-backref" href="#id72">上传您的发行版</a><a class="headerlink" href="#upload-your-distributions" title="永久链接至标题">¶</a></h3>
<p>一旦您有了账户，您就可以使用 <a class="reference internal" href="../key_projects.html#twine"><span class="std std-ref">twine</span></a> 将你的发行版上传到 <a class="reference internal" href="../glossary.html#term-Python-Package-Index-PyPI"><span class="xref std std-term">PyPI</span></a>。</p>
<p>无论项目是否已经存在于 PyPI 上，上传发布版的过程都是一样的——如果它还不存在，那么在上传第一个发布版时，它将被自动创建。</p>
<p>对于第二个及以后的版本，PyPI 只要求新版本的版本号与以前的任何版本不同。</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>twine upload dist/*
</pre></div>
</div>
<p>您可以通过浏览 URL <code class="docutils literal notranslate"><span class="pre">https://pypi.org/project/&lt;sampleproject&gt;</span></code> 来了解您的软件包是否已经成功上传，其中 <code class="docutils literal notranslate"><span class="pre">sampleproject</span></code> 是您上传项目的名称。您的项目可能需要一两分钟才能出现在网站上。</p>
<hr class="docutils" />
<dl class="footnote brackets">
<dt class="label" id="id25"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>根据你的平台，这可能需要 root 或管理员权限。 <a class="reference internal" href="../key_projects.html#pip"><span class="std std-ref">pip</span></a> 目前正在考虑通过 <a class="reference external" href="https://github.com/pypa/pip/issues/1668">使用户安装成为默认行为</a> 来改变这一点。</p>
</dd>
<dt class="label" id="id26"><span class="brackets"><a class="fn-backref" href="#id19">2</a></span></dt>
<dd><p>Specifically, the “console_script” approach generates <code class="docutils literal notranslate"><span class="pre">.exe</span></code> files on
Windows, which are necessary because the OS special-cases <code class="docutils literal notranslate"><span class="pre">.exe</span></code> files.
Script-execution features like <code class="docutils literal notranslate"><span class="pre">PATHEXT</span></code> and the <span class="target" id="index-11"></span><a class="pep reference external" href="https://www.python.org/dev/peps/pep-0397"><strong>Python Launcher for
Windows</strong></a> allow scripts to
be used in many cases, but not all.</p>
</dd>
</dl>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h3><a href="../index.html">目录</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Python 包装的概述</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">教程</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">指南</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installing-using-pip-and-virtual-environments.html">Installing packages using pip and virtual environments</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-stand-alone-command-line-tools.html">安装独立命令行工具</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-using-linux-tools.html">用 Linux 软件包管理器安装 pip/setuptools/wheel</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing-scientific-packages.html">Installing scientific packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="multi-version-installs.html">多版本安装</a></li>
<li class="toctree-l2"><a class="reference internal" href="index-mirrors-and-caches.html">Package index mirrors and caches</a></li>
<li class="toctree-l2"><a class="reference internal" href="hosting-your-own-index.html">Hosting your own simple repository</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Packaging and distributing projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-manifest-in.html">Including files in source distributions with <code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="single-sourcing-package-version.html">Single-sourcing the package version</a></li>
<li class="toctree-l2"><a class="reference internal" href="supporting-multiple-python-versions.html">支持多个 Python 版本</a></li>
<li class="toctree-l2"><a class="reference internal" href="dropping-older-python-versions.html">放弃对旧版 Python 的支持</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging-binary-extensions.html">Packaging binary extensions</a></li>
<li class="toctree-l2"><a class="reference internal" href="supporting-windows-using-appveyor.html">Supporting Windows using Appveyor</a></li>
<li class="toctree-l2"><a class="reference internal" href="packaging-namespace-packages.html">Packaging namespace packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="creating-and-discovering-plugins.html">创建和发现插件</a></li>
<li class="toctree-l2"><a class="reference internal" href="migrating-to-pypi-org.html">迁移到 PyPI.org</a></li>
<li class="toctree-l2"><a class="reference internal" href="using-testpypi.html">使用 TestPyPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="making-a-pypi-friendly-readme.html">Making a PyPI-friendly README</a></li>
<li class="toctree-l2"><a class="reference internal" href="publishing-package-distribution-releases-using-github-actions-ci-cd-workflows.html">Publishing package distribution releases using GitHub Actions CI/CD workflows</a></li>
<li class="toctree-l2"><a class="reference internal" href="tool-recommendations.html">Tool recommendations</a></li>
<li class="toctree-l2"><a class="reference internal" href="analyzing-pypi-package-downloads.html">分析 PyPI 软件包的下载情况</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../discussions/index.html">讨论</a></li>
<li class="toctree-l1"><a class="reference internal" href="../specifications/index.html">PyPA specifications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../key_projects.html">项目摘要</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary.html">术语表</a></li>
<li class="toctree-l1"><a class="reference internal" href="../support.html">如何获得支持</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute.html">为本指南做出贡献</a></li>
<li class="toctree-l1"><a class="reference internal" href="../news.html">新闻</a></li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="hosting-your-own-index.html"
                        title="上一章">Hosting your own simple repository</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="using-manifest-in.html"
                        title="下一章">Including files in source distributions with <code class="docutils literal notranslate"><span class="pre">MANIFEST.in</span></code></a></p>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="using-manifest-in.html" title="Including files in source distributions with MANIFEST.in"
             >下一页</a> |</li>
        <li class="right" >
          <a href="hosting-your-own-index.html" title="Hosting your own simple repository"
             >上一页</a> |</li>
          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://pypa.io">PyPA</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
              <a href="../index.html">Python Packaging User Guide</a> &#187;
              
          </li>
          <li class="nav-item nav-item-1"><a href="index.html" >指南</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Packaging and distributing projects</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权所有</a> 2013–2020, PyPA.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="">History and License</a> for more information.
    <br /><br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    最后更新于 2022 年 01 月 25 日.
    <a href="https://github.com/pypa/packaging.python.org/issues">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.3.1.
    </div>

  </body>
</html>